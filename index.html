<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">


    <title>Coding Quiz</title>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-12 col-md-6">
                View High Score
            </div>
            <div id="game-clock-container" class="col-12 col-md-6 text-md-right">
                Time: <span id="game-clock">XX</span>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row justify-content-center">
            <main class="col-8">
                <h1 id="heading1" class="mb-3">Coding Quiz Challenge</h1>
                <div id="start-menu">
                    <p>Test your knowledge of Javascript by answering a series of questions.</p>

                    <button onclick="startQuiz()" class="btn btn-primary">Start the quiz</button>
                </div>
                <div id="choices-menu">

                </div>
            </main>
        </div>
    </div>
    <script type="text/javascript" src="assets/questions.js"></script>
    <script>

        // Variables of elements, array data, etc. 
        // referred to in the functions
        var numberOfQuestions = questions.length;
        var choicesContent = document.querySelector("#choices-menu");
        var startMenu = document.getElementById('start-menu');
        var questionHeading = document.getElementById('heading1');
        var questionNumber = 0;
        var questionChoices = questions[questionNumber].choices;

        // Function for when user clicks the start button
        function startQuiz() {
            startMenu.setAttribute("style", "display: none;");
            // console.log(questionChoices);

            questionHeading.textContent = questions[questionNumber].title;
            listChoices();

            document.addEventListener("click", function(event) {
                if (event.target.matches('.choice-btn')) {
                    // alert(event.target.textContent);
                    if (event.target.textContent === questions[questionNumber].answer) {
                        alert('you win!');
                        questionNumber++;
                        questionHeading.textContent = questions[questionNumber].title;
                        choicesContent.innerHTML = " ";
                        listChoices();
                    } else {
                        alert('you lose!');
                        questionNumber++;
                        questionHeading.textContent = questions[questionNumber].title;
                        choicesContent.innerHTML = " ";
                        listChoices();
                    }
                }
            });
            
            
            
            
        }

        function listChoices() {
            // Loop through the available choices in
            // the given question array index
            for (var i = 0; i < questionChoices.length; i++) {
                // Create, build, and place the available choices
                var choiceBtn = document.createElement("button");
                choiceBtn.setAttribute("class", "btn btn-primary btn-sm d-block my-2 choice-btn");
                choiceBtn.setAttribute("id", "choice-" + i );
                choiceBtn.textContent = questions[questionNumber].choices[i];
                choicesContent.appendChild(choiceBtn);

                // var choiceID = document.getElementById("choice-" + i);

                // console.log(choiceID);
                // console.log(choiceBtn.textContent);
                // console.log(questions[questionNumber].answer);

                // choiceBtn.addEventListener("click", function() {
                //     // if (choiceBtn.textContent === questions[questionNumber].answer) {
                //     //     alert('you win!');
                //     // };
                //     alert(choiceID.textContent);
                // });
            }
        }

        // function compareChoice() {
        //     for (var i = 0; i < questionChoices.length; i++) {
        //         var choiceID = document.getElementById("choice-" + i);
        //     }
        // }
    </script>
</body>
</html>